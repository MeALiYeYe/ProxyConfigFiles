BaiduNUrl: &BaiduNUrl "http://192.168.3.1:3000/download/BaiduProxy?target=ClashMeta"
SubStoreUrl: &SubStoreUrl "http://192.168.3.1:3000/download/collection/Sub?target=ClashMeta"

ProxyTestUrl: &ProxyTestUrl "https://www.gstatic.com/generate_204"
DirectTestUrl: &DirectTestUrl "https://connectivitycheck.platform.hicloud.com/generate_204"

FilterHK: &FilterHK '(?i)(?:æ¸¯|é¦™æ¸¯|ğŸ‡­ğŸ‡°|\bHK\b|Hong|HKG)'
FilterTW: &FilterTW '(?i)(?:å°|å°æ¹¾|ğŸ‡¼ğŸ‡¸|ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|\bTW\b|tai|TWN)'
FilterSG: &FilterSG '(?i)(?:å¡|æ–°åŠ å¡|ğŸ‡¸ğŸ‡¬|\bSG\b|Singapore|SGP)'
FilterJP: &FilterJP '(?i)(?:æ—¥|æ—¥æœ¬|ğŸ‡¯ğŸ‡µ|\bJP\b|Japan|JPN)'
FilterKR: &FilterKR '(?i)(?:éŸ©|éŸ©å›½|ğŸ‡°ğŸ‡·|\bKR\b|KOR|Korea)'
FilterUS: &FilterUS '(?i)(?:ç¾|ç¾å›½|ğŸ‡ºğŸ‡¸|\bUS\b|USA|States)'
FilterRU: &FilterRU '(?i)(?:ä¿„ç½—æ–¯|è«æ–¯ç§‘|ğŸ‡·ğŸ‡º|RU|Russia|Moscow)'
FilterEU: &FilterEU '(?i)(?:ğŸ‡§ğŸ‡ª|ğŸ‡¨ğŸ‡¿|ğŸ‡©ğŸ‡°|ğŸ‡«ğŸ‡®|ğŸ‡«ğŸ‡·|ğŸ‡©ğŸ‡ª|ğŸ‡®ğŸ‡ª|ğŸ‡®ğŸ‡¹|ğŸ‡±ğŸ‡¹|ğŸ‡±ğŸ‡º|ğŸ‡³ğŸ‡±|ğŸ‡µğŸ‡±|ğŸ‡¸ğŸ‡ª|ğŸ‡¬ğŸ‡§|CDG|FRA|AMS|MAD|BCN|FCO|MUC|BRU)'
FilterOther: &FilterOther '^(?!.*(é¦™æ¸¯|å°æ¹¾|æ–°åŠ å¡|æ—¥æœ¬|éŸ©å›½|ç¾å›½|ğŸ‡­ğŸ‡°|ğŸ‡¼ğŸ‡¸|ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ|ğŸ‡°ğŸ‡·|ğŸ‡ºğŸ‡¸|\bHK\b|\bTW\b|\bSG\b|\bJP\b|\bKR\b|\bUS\b))'
ExcludeFilter: &ExcludeFilter '(?i)(ä½£é‡‘|å¥—é¤|å®˜ç½‘|å®˜æ–¹|å”®å|å…ç¿»|è¿‡æœŸ|å‰©ä½™|åˆ°æœŸ|æµé‡|æ›´æ–°|ç‚¹å¤–|é‡ç½®|å…æµ|ä¼˜æƒ |è¶…å®æƒ |å€|AFF|Days|Date)'
FilterLowMag: &FilterLowMag '0\.\d+'
FilterHighMag: &FilterHighMag '(?!0\.)[1-9]\d*(?:\.\d+)'

Proxyer: &Proxyer {type: http, interval: 43200, exclude-filter: *ExcludeFilter, health-check: {enable: true, url: *ProxyTestUrl, interval: 600, timeout: 2000}}
#Uses: &Uses {include-all-providers: true, url: *ProxyTestUrl, tolerance: 50, interval: 300, timeout: 2000, max-failed-times: 3, hidden: true}
#Auto: &Auto {<<: *Uses, type: url-test}
#Loads: &Loads {<<: *Uses, type: load-balance, strategy: sticky-sessions}
#Fallb: &Fallb {<<: *Uses, type: fallback}
Smartg: &Smartg {include-all-providers: true, type: smart, uselightgbm: true, collectdata: false, strategy: sticky-sessions, url: *ProxyTestUrl, hidden: true}
Groupp: &Groupp {type: select, proxies: [ç›´è¿, é¦™æ¸¯, å°æ¹¾, ç‹®åŸ, æ—¥æœ¬, ç¾å›½, ä½å€, é«˜å€], url: *ProxyTestUrl, hidden: false}
Groupd: &Groupd {type: select, proxies: [ç›´è¿, æ±Ÿè‹, åŒ—äº¬, å¹¿ä¸œ, æ²³åŒ—, æµ™æ±Ÿ], url: *DirectTestUrl, hidden: false}

rule-anchor:
  dom: &dom {type: http, behavior: domain, interval: 86400}
  cla: &cla {type: http, behavior: classical, interval: 86400}
  ipc: &ipc {type: http, behavior: ipcidr, interval: 86400}

proxies:
  - {name: ç›´è¿, type: direct}
  - {name: ç¦æ­¢, type: reject}

proxy-providers:
  Sub_Store: {<<: *Proxyer, path: ./proxy_provider/SubStore.yaml, url: *SubStoreUrl}
  BaiduProxy: {<<: *Proxyer, path: ./proxy_provider/BaiduProxy.yaml, url: *BaiduNUrl}

proxy-groups:
  - {name: Location, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bypass.png", <<: *Groupd}
  - {name: Domestic, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Domestic.png", <<: *Groupd}
  - {name: Emby, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png", <<: *Groupp}
  - {name: Tiktok, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TikTok_2.png", <<: *Groupp}
  - {name: Youtube, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png", <<: *Groupp}
  - {name: Media, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ForeignMedia.png", <<: *Groupp}
  - {name: Openai, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ChatGPT.png", <<: *Groupp}
  - {name: Telegram, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png", <<: *Groupp}
  - {name: Social, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Star.png", <<: *Groupp}
  - {name: Cloudflare, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Cloudflare.png", <<: *Groupp}
  - {name: Google, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png", <<: *Groupp}
  - {name: Github, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/GitHub.png", <<: *Groupp}
  - {name: Microsoft, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png", <<: *Groupp}
  - {name: Apple, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png", <<: *Groupp}
  - {name: Foreign, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png", <<: *Groupp}
  - {name: Final, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png", <<: *Groupp}
  - {name: æ±Ÿè‹, icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/refs/heads/main/icon/Surge(1).png", <<: *Smartg, filter: "å—äº¬|è‹å·"}
  - {name: åŒ—äº¬, icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/refs/heads/main/icon/Surge(2).png", <<: *Smartg, filter: "åŒ—äº¬"}
  - {name: å¹¿ä¸œ, icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/refs/heads/main/icon/Surge(4).png", <<: *Smartg, filter: "å¹¿å·"}
  - {name: æ²³åŒ—, icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/refs/heads/main/icon/Surge(5).png", <<: *Smartg, filter: "ä¿å®š"}
  - {name: æµ™æ±Ÿ, icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/refs/heads/main/icon/Surge(5).png", <<: *Smartg, filter: "æµ™æ±Ÿ"}
  - {name: é¦™æ¸¯, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png", <<: *Smartg, filter: *FilterHK}  
  - {name: å°æ¹¾, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png", <<: *Smartg, filter: *FilterTW} 
  - {name: ç‹®åŸ, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png", <<: *Smartg, filter: *FilterSG} 
  - {name: æ—¥æœ¬, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png", <<: *Smartg, filter: *FilterJP} 
  - {name: ç¾å›½, icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png", <<: *Smartg, filter: *FilterUS}
  - {name: ä½å€, icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/liuliang(2).png", <<:  *Smartg, filter: *FilterLowMag}
  - {name: é«˜å€, icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/liuliang(3).png", <<: *Smartg, filter: *FilterHighMag}

rule-providers:
  awavenue: {<<: *dom, format: mrs, url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/refs/heads/main/Filters/AWAvenue-Ads-Rule-Clash.mrs", path: ./rule_provider/awavenue.mrs}
  mydirect: {<<: *dom, format: yaml, url: "https://raw.githubusercontent.com/MeALiYeYe/ProxyConfigFiles/refs/heads/main/Mihomo/rule/Direct.yaml", path: ./rule_provider/mydirect.yaml}
  myrejectdomain: {<<: *dom, format: yaml, url: "https://raw.githubusercontent.com/MeALiYeYe/ProxyConfigFiles/refs/heads/main/Mihomo/rule/Reject_domain.yaml", path: ./rule_provider/myrejectdomain.yaml}
  myrejectip: {<<: *ipc, format: yaml, url: "https://raw.githubusercontent.com/MeALiYeYe/ProxyConfigFiles/refs/heads/main/Mihomo/rule/Reject_ip.yaml", path: ./rule_provider/myrejectip.yaml}
  myproxy: {<<: *dom, format: yaml, url: "https://raw.githubusercontent.com/MeALiYeYe/ProxyConfigFiles/refs/heads/main/Mihomo/rule/Proxy.yaml", path: ./rule_provider/myproxy.yaml}
  emby: {<<: *dom, format: yaml, url: "https://raw.githubusercontent.com/MeALiYeYe/ProxyConfigFiles/refs/heads/main/Mihomo/rule/Emby.yaml", path: ./rule_provider/emby.yaml}
  fakelocation: {<<: *cla, format: yaml, url: "https://raw.githubusercontent.com/MeALiYeYe/anti-ip-attribution/refs/heads/main/generated/rule-provider.yaml", path: ./rule_provider/fakelocation.yaml}

rules:
  - RULE-SET,awavenue,REJECT-DROP
  - RULE-SET,myrejectdomain,REJECT
  - RULE-SET,myrejectip,REJECT,no-resolve
  - RULE-SET,fakelocation,Location
  - RULE-SET,mydirect,DIRECT
  - RULE-SET,myproxy,Foreign
  - RULE-SET,emby,Emby
  
  - GEOSITE,private,DIRECT 
  - GEOSITE,category-ads-all,REJECT-DROP
  - GEOSITE,category-httpdns-cn,REJECT-DROP
  - GEOSITE,tiktok,Tiktok
  - GEOSITE,youtube,Youtube
  - GEOSITE,category-entertainment,Media
  - GEOSITE,telegram,Telegram
  - GEOSITE,category-social-media-!cn,Social
  - GEOSITE,google,Google
  - GEOSITE,cloudflare,Cloudflare
  - GEOSITE,category-ai-!cn,Openai
  - GEOSITE,github,Github
  - GEOSITE,apple,Apple
  - GEOSITE,microsoft,Microsoft
  - GEOSITE,geolocation-!cn,Foreign
  - GEOSITE,cn,Domestic
  
  - GEOIP,private,DIRECT,no-resolve
  - GEOIP,apple,Apple,no-resolve
  - GEOIP,telegram,Telegram,no-resolve
  - GEOIP,google,Google,no-resolve
  - GEOIP,cloudflare,Cloudflare,no-resolve
  - GEOIP,cn,Domestic,no-resolve
  
  - MATCH,Final
